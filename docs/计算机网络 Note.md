参考自小林coding👇：

> Mysql面试题目：
>
> https://blog.nowcoder.net/n/477a70139a34447589b6f3186f04550b

# 1. Http协议

> 常见面试题：
>
> ![image-20210405091651519](https://i.loli.net/2021/04/05/cOZSCqVaynJDUkw.png)

1. 状态码

   <img src="https://i.loli.net/2021/04/15/vHpZhYaV8jURoA6.png" alt="image-20210405092727263" style="zoom: 50%;" />

2. 字段

   <img src="https://i.loli.net/2021/04/15/fkVNItlneKwOcQD.png" alt="image-20210405101626472" style="zoom:50%;" />

   <img src="https://i.loli.net/2021/04/05/ldpnVCusyRmMXJB.png" alt="image-20210405101759644" style="zoom:50%;" />

   <img src="https://i.loli.net/2021/04/05/xeH27rbLFpIhcAQ.png" alt="image-20210405101811383" style="zoom:50%;" />

   <img src="https://i.loli.net/2021/04/05/QXGLz9JAENWfUFP.png" alt="image-20210405101841272" style="zoom:50%;" />

3. GET和POST的区别

   - Get：从服务器获取资源，安全且幂等
   - Post：提交资源给服务器，不安全不幂等

   > 幂等：多次执行结果一致

4. Http1.1的优点(相比1.0)和缺点

   ==优点==

   - 简单、灵活易于扩展和应用广泛跨平台

   - 长连接，keep-alive字段。长连接的特点是只要任意一方没有断开连接，则保持TCP连接状态。

     > 早期 HTTP/1.0 性能上的一个很大的问题，那就是每发起一个请求，都要新建一次 TCP 连接（三次握手），而且是串行请求，做了无谓的 TCP 连接建立和断开，增加了通信开销.为了解决上述 TCP 连接问题，HTTP/1.1 提出了长连接的通信方式，也叫持久连接。这种方式的好处在于减少了 TCP 连接的重复建立和断开所造成的额外开销，减轻了服务器端的负载。

   - 管道运输。由于使用了长连接，可在同一个 TCP 连接里面，客户端可以发起多个请求，只要第一个请求发出去了，不必等其回来，就可以发第二个请求出去，可以减少整体的响应时间

   ==缺点==

   - 无状态。Http没有记忆能力，通常需要依赖cookie实现关联操作
   - 明文传输。信息很容易被抓取。
   - **不安全**(**最大的缺点，因此催生了Https，在tcp层和http层加了ssl/tls安全协议，保证安全**)
     - 通信使用明文（不加密），内容可能会被窃听。比如，账号信息容易泄漏，那你号没了。
     - 不验证通信方的身份，因此有可能遭遇伪装。比如，访问假的淘宝、拼多多，那你钱没了。
     - 无法证明报文的完整性，所以有可能已遭篡改。比如，网页上植入垃圾广告，视觉污染，眼没了。

#### 2. HTTP和HTTP误

##### ①  HTTP和HTTPS的区别

> 1. HTTP 是超文本传输协议，信息是明文传输，存在安全风险的问题。HTTPS 则解决 HTTP 不安全的缺陷，在 TCP 和 HTTP 网络层之间加入了 SSL/TLS 安全协议，使得报文能够加密传输。
> 2. HTTP 连接建立相对简单， TCP 三次握手之后便可进行 HTTP 的报文传输。而 HTTPS 在 TCP三次握手之后，还需进行 SSL/TLS 的握手过程，才可进入加密报文传输。
> 3. HTTP 的端口号是 80，HTTPS 的端口号是 443。
> 4. HTTPS 协议需要向 CA（证书权威机构）申请数字证书，来保证服务器的身份是可信的。

##### ② HTTPS是怎么保证安全的？

> - 窃听风险 → 对明文进行混合加密
> - 冒充风险 → 数字证书
> - 篡改风险 → 摘要算法，生成独一无二的指纹

1. 混合加密

   <img src="https://i.loli.net/2021/04/15/P6NRjcxsGFOk1nT.png" alt="image-20210405113824543" style="zoom:67%;" />
   
   通信前使用公钥私钥进行会话密钥的共享。之后都使用会话密钥进行传输。
   
   > 必备基础知识
   >
   > - 公钥
   >
   > - 私钥
   >
   >  公钥私钥是成对的。公钥可以给任何人，私钥只能自己保存。公钥私钥之间可以互相解密。
   >
   >   公钥私钥一般有两个用法，公钥加密和私钥验证。
   >
   >    a. 使用公钥对明文进行加密，只有私钥才能解密。
   >
   >    b. 使用私钥对信息进行加密，所有人的公钥都可以解密。因此私钥加密一般用于验证这个信息真的来自私钥，不可告人的信息不能使用私钥进行加密，因为所有人都可以解密。
   >
   > - 对称加密
   > - 非对称加密
   >
   > 对称加密只有一个私钥，也叫会话密钥。加密和解密都是用这个私钥。
   >
   > 非对称加密就是上面说的公钥私钥，公钥加密私钥解密，私钥加密公钥验证。
   >
   > 对称加密的优点是效率高，缺点是私钥共享时不安全，可能会被别人窃取了你的私钥。
   >
   > 非对称加密的优点是安全，十分安全，缺点是效率低，一般只用于少量信息的加密。
   >
   > - 混合加密
   >
   > 混合加密结合了对称加密和非对称加密。
   >
   > 对称加密的痛点是会话密钥的传输不安全，因此我们可以使用非对称加密对会话密钥进行加密共享，以后的信息传输都使用会话密钥。这样既保证了安全，有提交了效率。
   
2. 数字证书

   ![image-20210405114114966](https://i.loli.net/2021/04/15/BaZet5VmuSsryA1.png)

   也就是说要想使用HTTPS，就需要去CA申请数字证书。客户端识别服务器响应信息真伪的关键就是看数据证书是否真实。这样就避免伪造信息。

3. 摘要算法

   ![image-20210405114428979](https://i.loli.net/2021/04/15/shOrc1jaI3imLXf.png)

##### ③ HTTPS是如何连接的？

#### 3. 输入网址后发生了什么？

- 解析url，生成http请求报文

- DNS域名解析：查询服务器域名对应的IP地址

  > <img src="https://i.loli.net/2021/04/15/bCc4OMNHS3mR6LB.png" alt="image-20210406174344305" style="zoom:80%;" />
  >
  > 本地DNS服务器，找不到本地DNS服务器请求根服务器。根服务器告诉找谁(顶级域名 -> 一级域名 -> 二级域名)。查找到IP地址后返回给本地DNS，本地DNS响应给浏览器。

- Http报文封装成TCP报文，与服务器建立TCP连接(三次握手)。如果报文太长，会被拆成多个TCP报文。

  > ![image-20210406222407968](https://i.loli.net/2021/04/15/4cPmuJSk6yUCGI7.png)
  >
  > 带了个"头盔"😅

- tcp报文封装成IP数据报(根据路由表确定目的IP地址:直接交付还是默认网关)。IP数据报继续封装成数据帧(使用ARP协议确定MAC地址)。
- 通过网卡把数据帧的数字信号转化为电信号，通过网线发出去
- 通过交换机在同一个网络中进行传输，通过路由器在不同网络间传输。目的都是为了根据IP地址找到目标服务器，这个过程MAC地址一直在变，IP地址始终不变。
- 服务器收到数据包后，开始一层一层扒皮，取出Http报文信息。之后把响应的Http报文响应回浏览器，浏览器进行渲染。通信结束。

==一些常用命令：==

- netstat -nap		查看当前设备的TCP连接状态
- route -n         查看当前设备的路由表
- arp -a        查看当前设备的arp缓存表

#### 4. TCP篇







   